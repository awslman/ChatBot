package Data;import java.util.ArrayList;import java.util.List;import java.util.Queue;import java.util.concurrent.LinkedBlockingQueue;/** * 对话上下文管理器（使用队列） * 负责维护对话的上下文信息，限制上下文大小并自动管理消息的添加和移除 * 使用队列数据结构确保先进先出的特性，当达到最大容量时自动移除最旧的消息 */public class DialogueContext {    /**     * 用于存储对话上下文消息的队列     */    private final Queue<Message> contextQueue;        /**     * 上下文队列的最大容量     */    private final int maxContextSize;    /**     * 构造函数，初始化对话上下文管理器     *      * @param maxSize 上下文队列的最大容量     */    public DialogueContext(int maxSize) {        this.contextQueue = new LinkedBlockingQueue<>(maxSize);        this.maxContextSize = maxSize;    }    /**     * 添加消息到上下文队列中     * 如果队列已满，则自动移除最旧的消息后再添加新消息     *      * @param message 要添加到上下文中的消息     */    public void addToContext(Message message) {        if (contextQueue.size() >= maxContextSize) {            contextQueue.poll(); // 移除最老的消息        }        contextQueue.offer(message);    }    /**     * 获取当前的上下文消息列表     *      * @return 包含当前上下文所有消息的列表副本     */    public List<Message> getContext() {        return new ArrayList<>(contextQueue);    }}