package IntentRecognizer;import Data.EntitiesNLTK;import Data.IntentNLTK;import Data.SentimentNLTK;/** * NLTK意图识别器 * 使用本地NLTK包装器进行自然语言处理，包括意图识别、情感分析和实体提取 * 提供对用户输入的深度自然语言理解功能 */public class IntentRecognizer_NLTK extends IntentRecognizer{    /**     * 本地NLTK包装器实例，用于调用Python NLTK库的功能     */    private final LocalNLTKWrapper nltkWrapper;    /**     * 构造函数，初始化NLTK意图识别器     */    public IntentRecognizer_NLTK() {        nltkWrapper = new LocalNLTKWrapper();    }    /**     * 识别用户输入的意图     * 使用NLTK进行深度分析，包括意图识别、情感分析和实体提取     *      * @param text 用户输入的文本     * @return 包含意图、情感和实体信息的分析结果     */    @Override    public IntentAnalysisResult recognizeIntent(String text) {        // 使用NLTK进行深度分析        Data.IntentNLTK intentResult = nltkWrapper.recognizeIntent(text);        Data.SentimentNLTK sentimentResult = nltkWrapper.analyzeSentiment(text);        Data.EntitiesNLTK entitiesResult = nltkWrapper.extractEntities(text);        return new IntentAnalysisResult(intentResult, sentimentResult, entitiesResult);    }    /**     * NLTK意图分析结果类     * 封装NLTK自然语言处理的结果，包括意图识别、情感分析和实体提取的结果     */    public static class IntentAnalysisResult extends IntentRecognizer.IntentAnalysisResult {        /**         * 意图识别结果         */        private IntentNLTK intent;                /**         * 情感分析结果         */        private SentimentNLTK sentiment;                /**         * 实体提取结果         */        private EntitiesNLTK entities;        /**         * 构造函数，创建NLTK意图分析结果对象         *          * @param intent 意图识别结果         * @param sentiment 情感分析结果         * @param entities 实体提取结果         */        public IntentAnalysisResult(IntentNLTK intent, SentimentNLTK sentiment, EntitiesNLTK entities) {            super();            this.intent= intent;            this.sentiment = sentiment;            this.entities = entities;        }        /**         * 获取NLTK意图识别结果         *          * @return 意图识别结果对象         */        public IntentNLTK getIntent_NLTK() {            return intent;        }        /**         * 设置意图识别结果         *          * @param intent 要设置的意图识别结果         */        public void setIntent(IntentNLTK intent) {            this.intent = intent;        }        /**         * 获取情感分析结果         *          * @return 情感分析结果对象         */        public SentimentNLTK getSentiment() {            return sentiment;        }        /**         * 设置情感分析结果         *          * @param sentiment 要设置的情感分析结果         */        public void setSentiment(SentimentNLTK sentiment) {            this.sentiment = sentiment;        }        /**         * 获取实体提取结果         *          * @return 实体提取结果对象         */        public EntitiesNLTK getEntities() {            return entities;        }        /**         * 设置实体提取结果         *          * @param entities 要设置的实体提取结果         */        public void setEntities(EntitiesNLTK entities) {            this.entities = entities;        }        /**         * 返回分析结果的字符串表示形式         *          * @return 格式化的分析结果字符串         */        @Override        public String toString() {            StringBuilder NLPAnalysis = new StringBuilder("NLTK分析结果:");            if (this.intent.getStatus().equals("success")) {                NLPAnalysis.append("意图识别: ").append(intent.getIntents().get(0)).append(" (置信度: ").append(intent.getConfidence()).append(")");            }            if (this.sentiment.getSentiment()!= null&&!this.sentiment.getSentiment().isEmpty()) {                NLPAnalysis.append("\n").append("情感分析: ").append(sentiment.getSentiment()).append(" (分数: ").append(sentiment.getCompound()).append(")");            }            if (this.entities.getEntities()!= null&&!this.entities.getEntities().isEmpty()) {                NLPAnalysis.append("\n").append("命名实体: ").append(entities.getEntities().size()).append(" 个");            }            return NLPAnalysis.toString();        }    }}