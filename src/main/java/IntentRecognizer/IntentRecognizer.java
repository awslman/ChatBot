package IntentRecognizer;import SimpleResponseGenerator.ChineseResponseGenerator;import SimpleResponseGenerator.SimpleChineseSegmenter;import java.util.Date;import java.util.HashMap;import java.util.Map;public abstract class IntentRecognizer {    protected ChineseResponseGenerator responseGenerator;    // 定义可识别的意图枚举类型    public enum Intent {        COMPLAINT, // 抱怨        COMPLIMENT, // 赞美        EMERGENCY, // 紧急情况        FAREWELL, // 告别        GREETING, // 问候        QUESTION, // 提问        REQUEST, // 请求        REQUEST_HELP, // 请求帮助        REQUEST_INFO, // 请求信息        STATEMENT, // 自称        HELP,// 帮助(训练数据中主要为要求Bot展现能力)        WEATHER, // 天气        TIME, // 时间        UNKNOWN // 未知意图    }    {        this.responseGenerator = new ChineseResponseGenerator(new SimpleChineseSegmenter());        DEFAULT_RESPONSES.put(Intent.GREETING, "你好！很高兴见到你！");        DEFAULT_RESPONSES.put(Intent.FAREWELL, "再见！期待下次与你交流！");        DEFAULT_RESPONSES.put(Intent.QUESTION, "这是一个很好的问题，你要我和你一起讨论吗。");        DEFAULT_RESPONSES.put(Intent.REQUEST, "我会尽力满足你的请求。");        DEFAULT_RESPONSES.put(Intent.REQUEST_HELP, "当然可以，我很乐意帮助你。");        DEFAULT_RESPONSES.put(Intent.REQUEST_INFO, "我来为你提供相关信息。");        DEFAULT_RESPONSES.put(Intent.HELP, "我可以与你聊天，你也可以使用command模式提供的小工具。");        DEFAULT_RESPONSES.put(Intent.COMPLIMENT, "谢谢你的夸奖！");        DEFAULT_RESPONSES.put(Intent.COMPLAINT, "很抱歉听到你的不满，我会努力改进。");        DEFAULT_RESPONSES.put(Intent.EMERGENCY, "紧急情况请立即联系相关机构，我会尽力提供帮助。");        DEFAULT_RESPONSES.put(Intent.STATEMENT, "我理解你的观点，谢谢分享。");        DEFAULT_RESPONSES.put(Intent.UNKNOWN, responseGenerator.generateResponse(""));        DEFAULT_RESPONSES.put(Intent.WEATHER, "目前我无法获取天气信息，希望今天天气不错。");        DEFAULT_RESPONSES.put(Intent.TIME, "现在的时间是：" + new Date());    }    private static final Map<Intent, String> DEFAULT_RESPONSES = new HashMap<>();    /**     * 生成针对指定意图的默认回复     * 子类可以覆盖此方法以提供更具体的回复     *     * @param intentAnalysisResult 意图分析结果     * @return 针对该意图的回复字符串     */    public String generateResponse(IntentAnalysisResult intentAnalysisResult) {        return DEFAULT_RESPONSES.getOrDefault(intentAnalysisResult.getIntent(), DEFAULT_RESPONSES.get(Intent.UNKNOWN));    }    // 抽象意图识别方法，子类必须实现    public abstract IntentAnalysisResult recognizeIntent(String text);    // 意图分析结果封装类    public static class IntentAnalysisResult {        private final Intent intent;        private final double confidence;        private final String explanation;        public IntentAnalysisResult() {            this.intent = Intent.UNKNOWN;            this.confidence = 0.0;            this.explanation = "";        }        public IntentAnalysisResult(Intent intent, double confidence, String explanation) {            this.intent = intent;            this.confidence = confidence;            this.explanation = explanation;        }        /**         * 获取识别出的意图类型         *         * @return 意图枚举值         */        public Intent getIntent() {            return intent;        }        /**         * 获取该意图的置信度数值         *         * @return 置信度浮点数（范围 [0, 1]）         */        public double getConfidence() {            return confidence;        }        /**         * 获取本次意图识别的详细解释信息         *         * @return 文本格式的分析说明         */        public String getExplanation() {            return explanation;        }        @Override        public String toString() {            return String.format("意图: %s, 置信度: %.2f, 说明: %s",                    intent, confidence, explanation);        }    }}